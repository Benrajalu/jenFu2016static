// Main menu

#topNav{
  display:block;
  width:100%;
  position:fixed;
  top:0px;
  left:0px;
  z-index:99999;
  padding:0px;
  background:$greyBG;
  @include transition(all 300ms);
  #logo{
	  	background:url('../img/logo.png') center center no-repeat;
	  	display:block;
	  	text-align:center;
	  	height:164px;
	  	width:136px;
	  	position:absolute;
	  	z-index:9;
      text-indent: -999px;
      overflow: hidden;
      top:0px;
      left:12px;
      @include transition(all 300ms);
      #mail{
        position: absolute;
        left:0px;
        bottom:30px;
        width: 100%;
        text-align: center;
        @include transition(all 200ms ease-out);
        img{
          display: block;
          margin:0 auto;
        }
        &:hover{
          bottom:28px;
        }
      }
  }
  &:after{
    content:"";
    display:block;
    float:none;
    clear:both;
  }
  .menu{
    @include transition(all 200ms ease-out);
    padding-left:148px;
    width:100%;
    margin:30px auto 0px;
    display:block;
    height: 55px;
    background:#fff;
    border-top:5px solid $blue;
    border-bottom:3px solid $greyBG;
    position: relative;
    right: 0px;
    > ul{
      width:100%;
      display:block;
      height: 55px;
      >li{
        float:left;
        height: 50px;
        line-height:50px;
        border-right:1px solid $blue;
        position:relative;
        list-style-type:none;
        @include transition(all 300ms);
        &.right{
          float:right;
          border:0px;
          border-left:1px solid $blue;
          &:hover{
            &:before{
              display:none;
            }
          }
        }
        &:before{
          display:block;
          content:"";
          width:100%;
          height:0px;
          position:absolute;
          top:0px;
          left:0px;
          z-index:1;
          transition:all 150ms;
          background:$white;
        }
        &:hover, &.active{
          background:$blue; 
        }
        &:first-child{
          border:0px;
        }
        > a{
          display: inline-block;
          vertical-align: middle;
          line-height: 1.3;
          text-transform:uppercase;
          color:$white;
          text-decoration:none;
          padding:0px 40px 0px 15px;
          transition: all 300ms;
          font-size:13px;
          position:relative;
          z-index:2;
          @include lato(regular, 16px, $greyText);
          text-transform: uppercase;
          span{
            display: block;
            @include lato(light, 11.5px, $greyText);
          }
        }
        > ul{
          display:none;
          position:fixed;
          left:0px;
          width:100%;
          background:$violet;
          
        }
      }
    }
    > button{
      display: none;
    }
  }

  &.compact{
  	top:0px;
    .menu{
      margin-top:0px;
    }
    #logo{
      top:-10px;
    }
  }

  @media only screen and (max-width: 1200px){
    top:0px;
    .menu{
      margin-top:0px;
      position: relative;
      > ul{
        position: fixed;
        width: 90%;
        max-width: 300px;
        height: 100%;
        top:0px;
        right:-300px;
        margin:0px;
        background:#e2ecf1;
        padding-top:55px;
        @include transition(all 200ms ease-out);
        li, li.right{
          display: block;
          float: none;
          line-height: 65px;
          height: 65px;
        }
      }
      > button{
        background:transparent;
        border:0px;
        @include transition(all 200ms ease-out);
        cursor: pointer;
        display: block;
        position: absolute;
        top:-5px;
        right: 0px;
        width: 55px;
        height: 55px;
        background:#e2ecf1;
        i{
          display: block;
          width:32px;
          height:3px;
          margin:0 auto;
          @include border-radius(3px);
          background:$greyText;
          position:relative;
          @include transition(all 200ms ease-out);
          top:0;
          &:after, &:before{
            @include transition(all 200ms ease-out);
            content:"";
            display:block;
            width:32px;
            height:3px;
            @include border-radius(3px);
            background:$greyText;
            position:absolute;
          }
          &:before{
            top:-10px;
          }
          &:after{
            bottom:-10px;
          }
        }

        &:hover{
          i{
            @include opacity(1);
            @include transform(scale(0.95));
          }
        }

        &.active{
          i{
            top:-6px;
            @include opacity(1);
            background:#e2ecf1;
            &:before{
              @include transform(rotate(-405deg));
              top:12px;
              background:$greyText;
              z-index:101;
              @include opacity(1);
              width: 22px;
              left:7px;
            }
            &:after{
              @include transform(rotate(405deg));
              top:-1px;
              background:$greyText;
              z-index:101;
              @include opacity(1);
              width: 22px;
              left:7px;
            }
          }
        }
      }
      &.active{
        right:300px;
        > button{
          right: -55px;
        }
        > ul{
          right:0px;
        }
        + #logo{
          left:-312px;
        }
      }
    }
  }

  @media only screen and (max-width: 600px){
   &.compact{
    #logo{
      top: -10px;
      height: 80px;
      background-position: 0px -20px;
      overflow: hidden;
      border-bottom:3px solid $blue;
      #mail{
        bottom:-40px;
      }
    }
   }
  }

  @media only screen and (max-width: 355px){
    .menu{
      > ul{
        width:250px;
      }
      &.active{
        right:250px;
      }
    }
  }
}